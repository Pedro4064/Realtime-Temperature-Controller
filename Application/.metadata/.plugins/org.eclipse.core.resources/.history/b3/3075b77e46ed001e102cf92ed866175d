// **********************************************//
// File name:        led.c                       //
// File description: This file implements the    //
//                   functions' implementations  //
//                   fot on-board LEDs           //
// Author name:		 Isabelle Miki Ikuno         //
//                   Pedro Henrique L. da Cruz   //
// Creation date:	 22/Mar/2024                 //
// Revision date:    22/Mar/2024                 //
// **********************************************//
#include "stm32g474xx.h"
#include "led.h"


#define _SET_MODE_OUTPUT(GPIO, PIN) \
				GPIO->MODER |= (1 << (PIN*2) );\
				GPIO->MODER &= ~(1 << (PIN*2 + 1) )


void vLedInit(LedMapping boardLeds[NUMBER_BOARD_LEDS]){

	unsigned int clockInUse = 0;

	for(int ledIndex = 0; ledIndex < 5; ledIndex++){
		if (boardLeds[ledIndex.gpioPort] == GPIOA)
			clockInUse |= 1 << 0;
		else if (boardLeds[ledIndex.gpioPort] == GPIOB)
			clockInUse |= 1 << 1;
		else
			clockInUse |= 1 << 2;
		_SET_MODE_OUTPUT(boardLeds[ledIndex].gpioPort, boardLeds[ledIndex].gpioPin);
	}

	RCC->AHB2ENR |=  3;


}

void vLedTurnOn(Color ledColor){

}

void vLedTurnOff(Color ledColor){

}

void vLedToggle(Color ledColor){

}

void vLedSet(Color ledColor, LedStatus status){

}
